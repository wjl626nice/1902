<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<input type="text"/>
		<button onclick="checkString()">按钮</button>
		<div></div>
		
		<script type="text/javascript">
			var div = document.querySelector("div");
			function checkString(){
				var str = document.querySelector("input").value;
				
				// 年份
				var year = str.slice(0,4);
				console.log(year);
				
				// 年
				var yearRegStr = "((^19\\d{2})|(^200\\d)|(^201\\d))";
				
				// 除了2月
				var mdRegStr = "(((0[13578])|(1[02]))(0[1-9]|[12]\\d|3[01])$)|((0[469]|11)(0[1-9]|[12]\\d|30)$)";
				
				// 2月份
				var num = 8;
				if((year%4==0 && year%100!=0) || year%400==0){
					num = 9;
				}
				
				var mdRegStr2 = "(02(0[1-9]|1\\d|2[0-" + num + "])$)";
				
				var regStr = yearRegStr + "(" + mdRegStr + "|" + mdRegStr2 + ")";
				
				
				var reg = new RegExp(regStr);
				
				if(reg.test(str)){
					div.innerHTML = "true";
				}else{
					div.innerHTML = "false";
				}	
			}
		</script>
	</body>
</html>
