## 创建用户:
### 指定ip：192.118.1.1的aa用户登录
create user 'aa'@'192.68.2.155' identified by '123';
### 指定ip：192.118.1.开头的aa用户登录
create user 'aa'@'192.168.2.%' identified by '123';
### 指定任何ip的aa用户登录
create user 'aa'@'%' identified by '123';

## 删除用户：

drop user 'aa'@'192.168.2.155';  # 不能使用delete

## 修改用户信息：

rename user "用户名"@"主机地址" to "新用户名"@"新主机地址"

## 修改密码:

set password for "用户名"@"主机地址" = password("新密码")


## 查看授权

show grants for "用户名"@"主机地址"

## 授权

grant 权限1,权限2,权限3 on 数据库名.表名 to "用户"@'IP地址';

grant all privileges  on 数据库名.表名 to "用户"@'IP地址';

## 取消授权

revoke 权限1 on 数据库名.表名 from "用户"@'IP地址'

revoke all privileges on 数据库名.表名 from "用户"@'IP地址';


## 复制表

既复制表结构，又复制数据
create table 新表名 select * from 数据库名.表名

只复制表结构，不复制数据
create table 新表名 like 数据库名.表名


## 备份和恢复

备份表结构和数据
mysqldump -u root -p 数据库名 表名 > 导出文件
mysqldump -u root -p 数据库名 > 导出文件

备份表结构
mysqldump -u root -p -d 数据库名 > 导出文件

恢复
mysql -u root -p 数据库名 < 备份文件
mysql -u root -p abc < test1.sql

## 子查询

1：子查询是将一个查询语句嵌套在另一个查询语句中。
2：内层查询语句的查询结果，可以为外层查询语句提供查询条件。
3：子查询中可以包含：IN、NOT IN、ANY、ALL、EXISTS 和 NOT EXISTS等关键字
4：还可以包含比较运算符：= 、 !=、> 、<等

select id,name from department
where id in 
(select dep_id from employee group by dep_id having avg(age) > 25);




